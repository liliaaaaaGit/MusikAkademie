# Database Audit Results

## Policies
<!-- No results - no forbidden references found in policies -->

## Functions
| schema | function_name                              | arg_count |
| ------ | ------------------------------------------ | --------- |
| public | accept_trial                               | 1         |
| public | admin_notify_contract_fulfilled            | 0         |
| public | atomic_save_and_sync_contract              | 4         |
| public | auto_generate_lessons                      | 0         |
| public | auto_generate_student_bank_id              | 0         |
| public | auto_generate_teacher_bank_id              | 0         |
| public | auto_insert_teacher                        | 0         |
| public | batch_update_lessons                       | 1         |
| public | calculate_contract_price                   | 2         |
| public | call_sync_contract_data                    | 0         |
| public | check_contract_completion_after_lessons    | 1         |
| public | check_contract_completion_status           | 1         |
| public | check_contract_lesson_availability         | 1         |
| public | check_notification_system_status           | 0         |
| public | cleanup_trial_notifications                | 0         |
| public | decline_trial                              | 1         |
| public | delete_notification                        | 1         |
| public | find_missing_contract_notifications        | 0         |
| public | fix_contract_attendance                    | 1         |
| public | force_contract_fulfillment_notification    | 1         |
| public | force_contract_notification                | 1         |
| public | generate_bank_id                           | 2         |
| public | get_current_price_version                  | 0         |
| public | get_teacher_contract_counts                | 0         |
| public | get_user_role                              | 0         |
| public | get_variants_for_student                   | 1         |
| public | handle_contract_update                     | 0         |
| public | handle_new_user                            | 0         |
| public | increment_contract_version                 | 0         |
| public | is_admin                                   | 0         |
| public | log_contract_error                         | 3         |
| public | mark_notification_read                     | 1         |
| public | notify_accepted_trial                      | 0         |
| public | notify_assigned_trial                      | 0         |
| public | notify_declined_trial                      | 0         |
| public | notify_new_open_trial                      | 0         |
| public | recompute_student_price_version            | 1         |
| public | refresh_teacher_student_count              | 1         |
| public | refresh_teacher_student_count_after_change | 0         |
| public | run_notification_cleanup                   | 0         |
| public | safe_save_contract                         | 3         |
| public | safe_update_lesson                         | 4         |
| public | set_student_price_version                  | 0         |
| public | smart_sync_contract_data                   | 1         |
| public | sync_contract_data                         | 1         |
| public | test_notification_system                   | 1         |
| public | update_attendance_count                    | 0         |
| public | update_contract_attendance                 | 0         |
| public | update_contract_notes                      | 2         |
| public | update_notification_timestamp              | 0         |
| public | validate_contract_data                     | 6         |
| public | validate_contract_data_trigger             | 0         |
| public | validate_lesson_integrity                  | 0         |
| public | write_audit                                | 0         |

## Triggers
<!-- No results - no forbidden references found in triggers -->

## Views
<!-- No results - no forbidden references found in views -->

## Materialized Views
<!-- No results - no forbidden references found in materialized views -->

## Rules
<!-- No results - no forbidden references found in rules -->

## Generated/Default Expressions
<!-- No results - no forbidden references found in generated expressions -->
